@import url("https://fonts.googleapis.com/css2?family=Inria+Serif:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap");

// Variables
$transition-speed: 0.8s;
$timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);

#avantages {
  font-family: "Inria Serif", serif;
  padding: 80px 10%;
  overflow-x: hidden; // Sécurité pour les animations

  .title {
    padding-top: 40px;
    color: var(--h);
    border-top: 1px solid var(--green);
    font-size: 3.5rem;
    text-align: center;
    max-width: 900px;
    margin: 0 auto 60px auto;
    line-height: 1.2;

    strong {
      color: var(--green);
    }
  }

  .avantages-list {
    list-style: none;
    padding: 0;
    margin: 0 auto;
    display: grid;
    // On crée 3 colonnes égales parfaitement centrées
    grid-template-columns: repeat(3, 1fr);
    gap: 30px;
    max-width: 1200px; // Limite la largeur pour un meilleur aspect visuel

    .bloc {
      position: relative;
      background: var(--green);
      border: 1px solid var(--green-bg);
      color: white;
      border-radius: 15px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
      padding: 3rem 2rem;
      text-align: left;
      transition: transform 0.3s ease,
        opacity $transition-speed $timing-function,
        transform $transition-speed $timing-function;
      opacity: 0;

      &:hover {
        transform: translateY(-10px) !important;
      }

      .icon {
        position: absolute;
        top: 20px;
        right: 20px;
        height: 40px;
        width: auto;
      }

      h1 {
        font-size: 1.25rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        padding-right: 40px;
        line-height: 1.3;
      }

      p {
        font-size: 0.95rem;
        line-height: 1.7;
        margin-bottom: 1rem;
        opacity: 0.9;

        strong {
          color: #fff;
          font-weight: 700;
        }
      }
    }

    // --- Animations Desktop ---
    .bloc:nth-child(1) {
      transform: translateX(-80px);
    }
    .bloc:nth-child(2) {
      transform: translateY(80px);
    }
    .bloc:nth-child(3) {
      transform: translateX(80px);
    }

    &.visible {
      .bloc {
        opacity: 1;
        transform: translate(0, 0);

        @for $i from 1 through 3 {
          &:nth-child(#{$i}) {
            transition-delay: #{$i * 0.15}s;
          }
        }
      }
    }
  }

  #buttons-cont {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 60px;

    button {
      font-size: 1rem;
      padding: 14px 28px;
      background: var(--green);
      color: white;
      border: 2px solid var(--green);
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;

      &:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }
    }

    .rdv {
      background: transparent;
      color: var(--h);
      border: 2px solid var(--green);
      &:hover {
        background: var(--green);
        color: white;
      }
    }
  }
}

/* ================= RESPONSIVE ================= */

@media (max-width: 1100px) {
  #avantages {
    .avantages-list {
      grid-template-columns: repeat(2, 1fr); // 2 colonnes sur tablette
      max-width: 800px;
    }
  }
}

@media (max-width: 768px) {
  #avantages {
    padding: 60px 20px;

    .title {
      font-size: 2.2rem;
      margin-bottom: 40px;
    }

    .avantages-list {
      grid-template-columns: 1fr; // 1 seule colonne sur mobile
      max-width: 450px; // Centre la colonne sur l'écran
      gap: 20px;

      .bloc {
        width: 100%;

        // Reset animations pour mobile
        &:nth-child(1),
        &:nth-child(2),
        &:nth-child(3) {
          transform: translateY(30px);
        }
      }
    }

    #buttons-cont {
      flex-direction: column;
      button {
        width: 100%;
      }
    }
  }
}
